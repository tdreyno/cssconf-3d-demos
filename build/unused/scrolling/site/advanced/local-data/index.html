<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <link href="../../stylesheets/site.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://fonts.googleapis.com/css?family=Questrial|Arvo" media="screen" rel="stylesheet" type="text/css" />
    <title>Middleman: Local Data</title>
  </head>
  <body>

      <header id="header">
    <div class="container">
      <h1><a class="logo" href="/"><img width="225" height="225" alt="Middleman" src="../../images/mm-blue-w-text.svg" /></a></h1>
      <p class="console">$ gem install middleman</p>
      <a class="toc-nav-link icon-arrow-down" href="#toc">Menu</a>
    </div>
  </header>

  <div class="container">
    <nav id="toc">
      <div class="toc-block">
  <h3>Middleman Basics</h3>
  <ul>
      <li><a href="/getting-started/">Getting Started</a></li>
      <li><a href="/templates/">Templates</a></li>
      <li><a href="/helpers/">Template Helpers</a></li>
      <li><a href="/frontmatter/">Frontmatter</a></li>
      <li><a href="/dynamic-pages/">Dynamic Pages</a></li>
      <li><a href="/asset-pipeline/">Asset Pipeline</a></li>
      <li><a href="/pretty-urls/">Pretty URLs (Directory Indexes)</a></li>
      <li><a href="/livereload/">LiveReload</a></li>
      <li><a href="/blogging/">Blogging</a></li>
  </ul>
</div>

<div class="toc-block">
  <h3>Advanced Features</h3>
  <ul>
      <li><a href="/advanced/configuration/">Configuring Your Site</a></li>
      <li><a href="/advanced/local-data/">Local Data</a></li>
      <li><a href="/advanced/localization/">Localization (i18n)</a></li>
      <li><a href="/advanced/sitemap/">The Sitemap</a></li>
      <li><a href="/advanced/rack-middleware/">Rack Middleware</a></li>
      <li><a href="/advanced/custom/">Custom Extensions</a></li>
      <li><a href="/advanced/file-size-optimization/">File Size Optimization</a></li>
      <li><a href="/advanced/improving-cacheability/">Improving Cacheability</a></li>
  </ul>
</div>

<div class="toc-block">
  <h3>Community</h3>
  <ul>
      <li><a href="http://directory.middlemanapp.com/">Extensions</a></li>
      <li><a href="http://directory.middlemanapp.com/#/templates/all">Project Templates</a></li>
      <li><a href="/community/deployment-solutions/">Deployment Solutions</a></li>
      <li><a href="/community/built-using-middleman/">Sites Built Using Middleman</a></li>
      <li><a href="http://forum.middlemanapp.com/" target="_blank">Community Forum</a></li>
      <li><a href="https://github.com/middleman/middleman" target="_blank">GitHub Repository</a></li>
  </ul>
</div>
    </nav>

    <article id="main" role="main">
      <h1 id="toc_0">Local Data</h1>

<p>Sometimes it is useful to extract the data content of a page from the rendering. This way some team members can concentrate on building up the database of content, while another team member can build the structure of the site. Local Data allows you to create <code>.yml</code>, <code>.yaml</code> or <code>.json</code> files in a folder called <code>data</code> and makes this information available in your templates. The <code>data</code> folder should be placed in the root of your project i.e. in the same folder as your project&#39;s <code>source</code> folder.</p>

<p>Here&#39;s an example file at <code>data/people.yml</code> with the contents:</p>

<pre><code class="yaml">friends:
  - Tom
  - Dick
  - Harry
</code></pre>

<p>Now, anywhere in our template files, we will have access to this data:</p>

<pre><code class="html">&lt;h1&gt;Friends&lt;/h1&gt;
&lt;ol&gt;
  &lt;% data.people.friends.each do |f| %&gt;
  &lt;li&gt;&lt;%= f %&gt;&lt;/li&gt;
  &lt;% end %&gt;
&lt;/ol&gt;
</code></pre>

<p>Which will render:</p>

<pre><code class="html">&lt;h1&gt;Friends&lt;/h1&gt;
&lt;ol&gt;
  &lt;li&gt;Tom&lt;/li&gt;
  &lt;li&gt;Dick&lt;/li&gt;
  &lt;li&gt;Harry&lt;/li&gt;
&lt;/ol&gt;
</code></pre>

<p>Notice that the name of the <code>.yml</code> file (people) is the name of the object which stores the data in your template: <code>data.people</code>. This works for subdirectories as well. If you have a file <code>data/people/tom.yml</code>, you can access it with <code>data.people.tom</code>.</p>

<p>You can use JSON to store your data instead of YAML. The above example could be <code>data/people.json</code> instead:</p>

<pre><code class="json">{
  &quot;friends&quot;: [
    &quot;Tom&quot;,
    &quot;Dick&quot;,
    &quot;Harry&quot;
  ]
}
</code></pre>

    </article>

    <div id="support">
  <div class="donate">
    <h4>Support Us</h4>
    <p><a href="https://spb.io/s/4dXbHBorC3" target="_blank" class="sbe-button">With a Donation</a></p>
  </div>

  <div class="sponsor">
    <h4>Sponsor</h4>
    <a href="http://fjords.cc" target="_blank">
      <img src="../../images/fjords.jpg" />
      <span>Fjords: Simple Middleman Hosting &amp; Preview URLs</span>
    </a>
  </div>

  <!-- BuySellAds Zone Code -->
  <div id="bsap_1280677" class="bsarocks bsap_989fc05e297a314a92ad3f33cef85fd4"></div>
  <!-- End BuySellAds Zone Code -->
</div>
  </div>

    
    <footer id="footer">
      <div class="container">
        <p class="copyright">
          &copy; 2011-2013 <a href="http://awardwinningfjords.com">Thomas Reynolds</a>.
        </p>
        <p class="link"><a href="https://github.com/middleman/middleman-guides/blob/master/source/advanced/local-data.html.markdown">Fork and edit this guide on Github</a></p>
      </div>
    </footer>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="../../javascripts/highlight.pack.js" type="text/javascript"></script>
    <script src="../../javascripts/toc.js" type="text/javascript"></script>
    <link href="../../stylesheets/solarized_light.css" media="screen" rel="stylesheet" type="text/css" />
    <script>hljs.initHighlightingOnLoad();</script>


  </body>
</html>
